@startuml

actor 借阅者
participant 图书管理员
participant 图书管理系统
participant 图书数据库

借阅者 -> 图书管理员 : 请求预定图书(书名/ISBN)
activate 图书管理员
图书管理员 -> 图书管理系统 : 发起预定请求(书名/ISBN)
deactivate 图书管理员

activate 图书管理系统
图书管理系统 -> 图书数据库 : 查询图书信息(书名/ISBN)
activate 图书数据库
图书数据库 --> 图书管理系统 : 返回图书信息
deactivate 图书数据库

alt 图书可预定
	图书管理系统 -> 图书数据库 : 创建预定记录(借阅者ID, 图书ID)
	activate 图书数据库
	图书数据库 --> 图书管理系统 : 返回结果
	deactivate 图书数据库
	图书管理系统 -> 图书管理员 : 返回预定成功信息
	deactivate 图书管理系统
	activate 图书管理员
	图书管理员 -> 借阅者 : 通知预定成功
	deactivate 图书管理员
else 图书不可预定
	图书管理系统 -> 图书管理员 : 返回预定失败信息
	deactivate 图书管理系统
	activate 图书管理员
	图书管理员 -> 借阅者 : 通知预定失败及原因
	deactivate 图书管理员
end

@enduml
